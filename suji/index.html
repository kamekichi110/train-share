<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>スジ情報app</title>
    <link rel="shortcut icon" href="../asset/icon/cmd.ico" type="image/x-icon">
</head>
<body>
    <h1>スジ情報app</h1>
    <p>スジ情報appを起動できます。</p>
    <p>非公開のため、パスワードが必要です。</p>
    <br>
    <button type="button" onclick="load()" style="font-size: 32px;">起動</button>
    <br>
    <br>
    <hr>
    <br>
    <div id="dataArea">
    <p id="data">862MB中、<span id="value">0</span>MB読み込み完了</p>
    <p id="bar"><span id="timer" style="color: red;">5</span>秒後に転送します…</p>
    </div>
    <script>
        window.onload = setTimeout(() => {
            console.error("data is not found!");
            console.error("pw is not found!");
            document.getElementById("dataArea").style.display = "none";
        }, 200);
        function timer() {
            var output = document.getElementById("timer");
            var timer = 5;
            setTimeout(() => {
                timer = timer - 1;
                output.innerHTML = timer;
                setTimeout(() => {
                    timer = timer - 1;
                    output.innerHTML = timer;
                    setTimeout(() => {
                        timer = timer - 1;
                        output.innerHTML = timer;
                        setTimeout(() => {
                            timer = timer - 1;
                            output.innerHTML = timer;
                            setTimeout(() => {
                                window.location.href = "./app"
                            }, 1000);
                        }, 1000);
                    }, 1000);
                }, 1000);
            }, 1000);
        }
    </script>
    <script>
        function load() {
            document.getElementById("dataArea").style.display = "block";
            document.getElementById("bar").style.display = "none";
            var size = 862;
            var outCTX = document.getElementById("value");
                if (Number(outCTX.textContent) > size) {
                    outCTX.innerHTML = size;
                    timer();
                } else {
                    var DataValue = Number(outCTX.textContent);
                    DataValue =+ 1;
                    outCTX.innerHTML = DataValue;
                    setTimeout(() => {
                        outCTX.innerHTML = 185;
                        setTimeout(() => {
                            outCTX.innerHTML = 285;
                            setTimeout(() => {
                                outCTX.innerHTML = 351;
                                setTimeout(() => {
                                    outCTX.innerHTML = 483;
                                    setTimeout(() => {
                                        outCTX.innerHTML = 543;
                                        setTimeout(() => {
                                            outCTX.innerHTML = 658;
                                            setTimeout(() => {
                                                outCTX.innerHTML = 721;
                                                setTimeout(() => {
                                                    outCTX.innerHTML = 785;
                                                    setTimeout(() => {
                                                        outCTX.innerHTML = 862;
                                                        document.getElementById("bar").style.display = "block";
                                                        timer();
                                                    }, 150);
                                                }, 250);
                                            }, 200);
                                        }, 400);
                                    }, 500);
                                }, 360);
                            }, 640);
                        }, 500);
                    }, 1000)
                }
        }
    </script>
    <input type="text" name="count" id="num" style="display: none;" value=0>
</body>
</html>